name: "Close stale issues and PRs"
on:
  schedule:
    - cron: "30 17 * * *"

# Set minimum permissions to prevent unnecessary access
permissions: {}

jobs:
  stale:
    runs-on: ubuntu-latest
    permissions:
      issues: write # Need write permission to mark and close stale issues
      pull-requests: write # Need write permission to mark and close stale PRs
    steps:
      - uses: actions/stale@3a9db7e6a41a89f618792c92c0e97cc736e1b13f # v10
        if: github.repository == 'lynx-family/lynx-stack'
        with:
          days-before-stale: 60
          days-before-issue-close: -1
          days-before-pr-close: -1
          stale-issue-message: >
            This issue has been automatically marked as stale because it has not had recent activity.
            **If this issue is still affecting you, please leave any comment** (for example, "bump").
            We are sorry that we haven't been able to prioritize it yet. If you have any new additional information, please include it with your comment!
          stale-pr-message: >
            This pull request has been automatically marked as stale because it has not had recent activity.
            **If this pull request is still relevant, please leave any comment** (for example, "bump").
